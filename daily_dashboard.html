<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forage Kitchen - Daily Sales Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0f172a; color: #e2e8f0; min-height: 100vh; }

  .header { background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); padding: 20px 30px; border-bottom: 1px solid #334155; display: flex; justify-content: space-between; align-items: center; }
  .header h1 { font-size: 24px; font-weight: 700; color: #f8fafc; }
  .header h1 span { color: #22c55e; }
  .header .meta { text-align: right; font-size: 13px; color: #94a3b8; }
  .header .meta .period { font-size: 16px; color: #f8fafc; font-weight: 600; }
  .header .meta .source { font-size: 11px; color: #f59e0b; text-transform: uppercase; letter-spacing: 1px; }

  .container { max-width: 1400px; margin: 0 auto; padding: 20px; }

  /* KPI Cards */
  .kpi-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px; }
  .kpi-card { background: #1e293b; border-radius: 12px; padding: 20px; border: 1px solid #334155; }
  .kpi-card .label { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; color: #94a3b8; margin-bottom: 8px; }
  .kpi-card .value { font-size: 28px; font-weight: 700; color: #f8fafc; }
  .kpi-card .sub { font-size: 13px; color: #94a3b8; margin-top: 4px; }
  .kpi-card .change { font-size: 14px; font-weight: 600; margin-top: 4px; }
  .kpi-card .change.positive { color: #22c55e; }
  .kpi-card .change.negative { color: #ef4444; }

  /* Section headers */
  .section-header { font-size: 18px; font-weight: 600; color: #f8fafc; margin: 24px 0 12px; padding-bottom: 8px; border-bottom: 1px solid #334155; }

  /* Charts row */
  .charts-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px; }
  .chart-card { background: #1e293b; border-radius: 12px; padding: 20px; border: 1px solid #334155; }
  .chart-card h3 { font-size: 14px; color: #94a3b8; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px; }

  /* Store Table */
  .store-table { width: 100%; border-collapse: collapse; background: #1e293b; border-radius: 12px; overflow: hidden; border: 1px solid #334155; }
  .store-table th { background: #334155; padding: 12px 16px; text-align: left; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; color: #94a3b8; font-weight: 600; }
  .store-table th.right, .store-table td.right { text-align: right; }
  .store-table td { padding: 12px 16px; border-bottom: 1px solid #1e293b; font-size: 14px; }
  .store-table tr:nth-child(even) { background: #1e293b; }
  .store-table tr:nth-child(odd) { background: #172033; }
  .store-table tr:hover { background: #253352; }
  .store-table tr.total-row { background: #334155 !important; font-weight: 700; }
  .store-table tr.total-row td { border-top: 2px solid #4a5568; }
  .positive { color: #22c55e; }
  .negative { color: #ef4444; }
  .neutral { color: #94a3b8; }

  /* Daily detail table */
  .daily-table { width: 100%; border-collapse: collapse; background: #1e293b; border-radius: 12px; overflow: hidden; border: 1px solid #334155; margin-top: 16px; }
  .daily-table th { background: #334155; padding: 10px 12px; text-align: right; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; color: #94a3b8; }
  .daily-table th:first-child { text-align: left; }
  .daily-table td { padding: 8px 12px; text-align: right; font-size: 13px; border-bottom: 1px solid #253352; }
  .daily-table td:first-child { text-align: left; color: #94a3b8; }
  .daily-table tr:hover { background: #253352; }
  .daily-table .day-name { color: #f8fafc; font-weight: 500; }

  /* Tabs for store detail */
  .tab-bar { display: flex; gap: 4px; margin-bottom: 16px; flex-wrap: wrap; }
  .tab-btn { padding: 8px 16px; background: #1e293b; border: 1px solid #334155; border-radius: 8px; color: #94a3b8; cursor: pointer; font-size: 13px; font-weight: 500; transition: all 0.2s; }
  .tab-btn:hover { background: #253352; color: #f8fafc; }
  .tab-btn.active { background: #22c55e; color: #0f172a; border-color: #22c55e; font-weight: 700; }

  .tab-content { display: none; }
  .tab-content.active { display: block; }

  /* Refresh notice */
  .refresh-notice { text-align: center; padding: 12px; color: #64748b; font-size: 12px; margin-top: 20px; }

  @media (max-width: 768px) {
    .charts-row { grid-template-columns: 1fr; }
    .kpi-row { grid-template-columns: repeat(2, 1fr); }
    .header { flex-direction: column; gap: 10px; }
    .header .meta { text-align: left; }
  }
</style>
</head>
<body>

<div class="header">
  <h1>Forage <span>Kitchen</span> &mdash; Daily Sales</h1>
  <div class="meta">
    <div class="period" id="periodLabel"></div>
    <div id="dateRange"></div>
    <div id="lastUpdated"></div>
    <div class="source" id="dataSource"></div>
  </div>
</div>

<div class="container">
  <!-- KPI Cards -->
  <div class="kpi-row" id="kpiRow"></div>

  <!-- Charts -->
  <div class="charts-row">
    <div class="chart-card">
      <h3>Daily Net Sales (Current vs Prior Year)</h3>
      <canvas id="salesChart" height="200"></canvas>
    </div>
    <div class="chart-card">
      <h3>Daily Labor %</h3>
      <canvas id="laborChart" height="200"></canvas>
    </div>
  </div>

  <!-- Store Scoreboard -->
  <div class="section-header">Store Scoreboard &mdash; Period to Date</div>
  <table class="store-table" id="storeTable"></table>

  <!-- Daily Detail by Store -->
  <div class="section-header">Daily Detail</div>
  <div class="tab-bar" id="tabBar"></div>
  <div id="tabContents"></div>

  <div class="refresh-notice">
    To refresh data, run <code>python daily_dashboard.py</code> &bull; Data through <span id="dataThrough"></span> &bull; Generated <span id="refreshTime"></span>
  </div>
</div>

<script>
const D = {"generated": "2026-02-24T10:07:57.323485", "fiscal_year": 2026, "period": 2, "period_start": "2026-01-28", "period_end": "2026-02-24", "data_through": "2026-02-23", "today": "2026-02-24", "days_completed": 27, "stores": {"8001": {"name": "State Street", "net_sales": 87129.82, "gross_sales": 91628.64, "guests": 5493, "checks": 5493, "labor_cost": 17240.29, "labor_hours": 1438.61, "py_net_sales": 79182.57, "py_guests": 4890, "daily": [{"date": "2026-01-28", "net_sales": 3878.74, "labor_cost": 667.23, "labor_pct": 17.2, "guests": 255, "checks": 255, "py_net_sales": 3774.78}, {"date": "2026-01-29", "net_sales": 3468.99, "labor_cost": 684.09, "labor_pct": 19.7, "guests": 209, "checks": 209, "py_net_sales": 4090.49}, {"date": "2026-01-30", "net_sales": 2301.04, "labor_cost": 840.93, "labor_pct": 36.5, "guests": 158, "checks": 158, "py_net_sales": 2679.24}, {"date": "2026-01-31", "net_sales": 2157.7, "labor_cost": 566.05, "labor_pct": 26.2, "guests": 132, "checks": 132, "py_net_sales": 2111.41}, {"date": "2026-02-01", "net_sales": 2307.35, "labor_cost": 609.59, "labor_pct": 26.4, "guests": 155, "checks": 155, "py_net_sales": 2251.67}, {"date": "2026-02-02", "net_sales": 3125.29, "labor_cost": 730.61, "labor_pct": 23.4, "guests": 198, "checks": 198, "py_net_sales": 3051.28}, {"date": "2026-02-03", "net_sales": 3665.32, "labor_cost": 701.41, "labor_pct": 19.1, "guests": 235, "checks": 235, "py_net_sales": 3056.66}, {"date": "2026-02-04", "net_sales": 2795.62, "labor_cost": 674.86, "labor_pct": 24.1, "guests": 192, "checks": 192, "py_net_sales": 3505.85}, {"date": "2026-02-05", "net_sales": 3199.35, "labor_cost": 706.73, "labor_pct": 22.1, "guests": 214, "checks": 214, "py_net_sales": 2928.12}, {"date": "2026-02-06", "net_sales": 3118.53, "labor_cost": 714.37, "labor_pct": 22.9, "guests": 196, "checks": 196, "py_net_sales": 2987.28}, {"date": "2026-02-07", "net_sales": 2556.66, "labor_cost": 551.03, "labor_pct": 21.6, "guests": 167, "checks": 167, "py_net_sales": 2262.14}, {"date": "2026-02-08", "net_sales": 1875.18, "labor_cost": 533.4, "labor_pct": 28.4, "guests": 112, "checks": 112, "py_net_sales": 1806.87}, {"date": "2026-02-09", "net_sales": 3487.32, "labor_cost": 718.86, "labor_pct": 20.6, "guests": 229, "checks": 229, "py_net_sales": 3346.12}, {"date": "2026-02-10", "net_sales": 3908.11, "labor_cost": 730.95, "labor_pct": 18.7, "guests": 228, "checks": 228, "py_net_sales": 3497.95}, {"date": "2026-02-11", "net_sales": 4141.65, "labor_cost": 677.49, "labor_pct": 16.4, "guests": 283, "checks": 283, "py_net_sales": 2844.64}, {"date": "2026-02-12", "net_sales": 2786.61, "labor_cost": 737.2, "labor_pct": 26.5, "guests": 195, "checks": 195, "py_net_sales": 2955.52}, {"date": "2026-02-13", "net_sales": 4023.48, "labor_cost": 778.84, "labor_pct": 19.4, "guests": 225, "checks": 225, "py_net_sales": 2558.49}, {"date": "2026-02-14", "net_sales": 3047.55, "labor_cost": 437.96, "labor_pct": 14.4, "guests": 191, "checks": 191, "py_net_sales": 2380.27}, {"date": "2026-02-15", "net_sales": 2659.5, "labor_cost": 570.67, "labor_pct": 21.5, "guests": 171, "checks": 171, "py_net_sales": 2589.95}, {"date": "2026-02-16", "net_sales": 4294.45, "labor_cost": 615.87, "labor_pct": 14.3, "guests": 257, "checks": 257, "py_net_sales": 4056.65}, {"date": "2026-02-17", "net_sales": 3848.68, "labor_cost": 693.51, "labor_pct": 18.0, "guests": 259, "checks": 259, "py_net_sales": 2774.15}, {"date": "2026-02-18", "net_sales": 4289.98, "labor_cost": 635.62, "labor_pct": 14.8, "guests": 285, "checks": 285, "py_net_sales": 3219.53}, {"date": "2026-02-19", "net_sales": 3890.62, "labor_cost": 724.76, "labor_pct": 18.6, "guests": 215, "checks": 215, "py_net_sales": 3096.03}, {"date": "2026-02-20", "net_sales": 3450.77, "labor_cost": 709.03, "labor_pct": 20.5, "guests": 195, "checks": 195, "py_net_sales": 2980.07}, {"date": "2026-02-21", "net_sales": 2232.12, "labor_cost": 592.5, "labor_pct": 26.5, "guests": 142, "checks": 142, "py_net_sales": 2587.64}, {"date": "2026-02-22", "net_sales": 2744.66, "labor_cost": 1.04, "labor_pct": 0.0, "guests": 155, "checks": 155, "py_net_sales": 2515.09}, {"date": "2026-02-23", "net_sales": 3874.55, "labor_cost": 635.7, "labor_pct": 16.4, "guests": 240, "checks": 240, "py_net_sales": 3274.68}], "labor_pct": 19.8, "avg_check": 15.86, "sss_growth": 10.0, "budget_sales": 91759.34, "budget_cogs_pct": 30.7, "budget_payroll_pct": 29.3, "budget_crew_wages_pct": 20.3, "budget_sales_prorated": 88482.22, "budget_variance": -1.5}, "8002": {"name": "Hilldale", "net_sales": 98155.05, "gross_sales": 103184.33, "guests": 4539, "checks": 4539, "labor_cost": 18448.97, "labor_hours": 2023.85, "py_net_sales": 79675.25, "py_guests": 3935, "daily": [{"date": "2026-01-28", "net_sales": 5238.17, "labor_cost": 597.56, "labor_pct": 11.4, "guests": 151, "checks": 151, "py_net_sales": 2942.57}, {"date": "2026-01-29", "net_sales": 3340.66, "labor_cost": 733.0, "labor_pct": 21.9, "guests": 197, "checks": 197, "py_net_sales": 3624.55}, {"date": "2026-01-30", "net_sales": 3969.82, "labor_cost": 737.55, "labor_pct": 18.6, "guests": 194, "checks": 194, "py_net_sales": 3588.94}, {"date": "2026-01-31", "net_sales": 3249.77, "labor_cost": 822.59, "labor_pct": 25.3, "guests": 150, "checks": 150, "py_net_sales": 2836.86}, {"date": "2026-02-01", "net_sales": 2576.71, "labor_cost": 643.13, "labor_pct": 25.0, "guests": 127, "checks": 127, "py_net_sales": 2793.35}, {"date": "2026-02-02", "net_sales": 2990.29, "labor_cost": 563.18, "labor_pct": 18.8, "guests": 148, "checks": 148, "py_net_sales": 2648.5}, {"date": "2026-02-03", "net_sales": 3066.37, "labor_cost": 502.84, "labor_pct": 16.4, "guests": 148, "checks": 148, "py_net_sales": 2448.23}, {"date": "2026-02-04", "net_sales": 3757.47, "labor_cost": 625.89, "labor_pct": 16.7, "guests": 167, "checks": 167, "py_net_sales": 2900.21}, {"date": "2026-02-05", "net_sales": 4946.16, "labor_cost": 761.63, "labor_pct": 15.4, "guests": 214, "checks": 214, "py_net_sales": 3133.06}, {"date": "2026-02-06", "net_sales": 4573.58, "labor_cost": 777.46, "labor_pct": 17.0, "guests": 206, "checks": 206, "py_net_sales": 4822.92}, {"date": "2026-02-07", "net_sales": 4577.12, "labor_cost": 885.59, "labor_pct": 19.3, "guests": 168, "checks": 168, "py_net_sales": 3075.82}, {"date": "2026-02-08", "net_sales": 2261.65, "labor_cost": 617.18, "labor_pct": 27.3, "guests": 104, "checks": 104, "py_net_sales": 2169.41}, {"date": "2026-02-09", "net_sales": 3525.57, "labor_cost": 632.02, "labor_pct": 17.9, "guests": 157, "checks": 157, "py_net_sales": 2635.19}, {"date": "2026-02-10", "net_sales": 3214.5, "labor_cost": 493.41, "labor_pct": 15.3, "guests": 162, "checks": 162, "py_net_sales": 2493.84}, {"date": "2026-02-11", "net_sales": 3844.52, "labor_cost": 644.0, "labor_pct": 16.8, "guests": 195, "checks": 195, "py_net_sales": 1317.36}, {"date": "2026-02-12", "net_sales": 3542.36, "labor_cost": 773.25, "labor_pct": 21.8, "guests": 182, "checks": 182, "py_net_sales": 2612.48}, {"date": "2026-02-13", "net_sales": 3592.27, "labor_cost": 882.07, "labor_pct": 24.6, "guests": 188, "checks": 188, "py_net_sales": 3082.86}, {"date": "2026-02-14", "net_sales": 4398.56, "labor_cost": 792.01, "labor_pct": 18.0, "guests": 183, "checks": 183, "py_net_sales": 2223.52}, {"date": "2026-02-15", "net_sales": 3997.61, "labor_cost": 733.58, "labor_pct": 18.4, "guests": 168, "checks": 168, "py_net_sales": 2491.46}, {"date": "2026-02-16", "net_sales": 2857.66, "labor_cost": 629.99, "labor_pct": 22.0, "guests": 167, "checks": 167, "py_net_sales": 2982.91}, {"date": "2026-02-17", "net_sales": 3697.46, "labor_cost": 495.15, "labor_pct": 13.4, "guests": 182, "checks": 182, "py_net_sales": 2524.37}, {"date": "2026-02-18", "net_sales": 3486.08, "labor_cost": 664.08, "labor_pct": 19.0, "guests": 160, "checks": 160, "py_net_sales": 3228.06}, {"date": "2026-02-19", "net_sales": 3280.0, "labor_cost": 660.6, "labor_pct": 20.1, "guests": 159, "checks": 159, "py_net_sales": 3241.0}, {"date": "2026-02-20", "net_sales": 3998.71, "labor_cost": 642.05, "labor_pct": 16.1, "guests": 186, "checks": 186, "py_net_sales": 3844.52}, {"date": "2026-02-21", "net_sales": 4032.89, "labor_cost": 778.91, "labor_pct": 19.3, "guests": 185, "checks": 185, "py_net_sales": 3471.02}, {"date": "2026-02-22", "net_sales": 2788.49, "labor_cost": 747.99, "labor_pct": 26.8, "guests": 137, "checks": 137, "py_net_sales": 3336.34}, {"date": "2026-02-23", "net_sales": 3350.6, "labor_cost": 612.26, "labor_pct": 18.3, "guests": 154, "checks": 154, "py_net_sales": 3205.9}], "labor_pct": 18.8, "avg_check": 21.62, "sss_growth": 23.2, "budget_sales": 88568.64, "budget_cogs_pct": 30.9, "budget_payroll_pct": 31.3, "budget_crew_wages_pct": 21.8, "budget_sales_prorated": 85405.47, "budget_variance": 14.9}, "8003": {"name": "Monona", "net_sales": 95439.18, "gross_sales": 100545.02, "guests": 4779, "checks": 4779, "labor_cost": 16499.3, "labor_hours": 1977.95, "py_net_sales": 84778.82, "py_guests": 4107, "daily": [{"date": "2026-01-28", "net_sales": 3970.61, "labor_cost": 733.95, "labor_pct": 18.5, "guests": 199, "checks": 199, "py_net_sales": 3762.74}, {"date": "2026-01-29", "net_sales": 3543.96, "labor_cost": 674.82, "labor_pct": 19.0, "guests": 193, "checks": 193, "py_net_sales": 4624.93}, {"date": "2026-01-30", "net_sales": 3651.98, "labor_cost": 674.85, "labor_pct": 18.5, "guests": 186, "checks": 186, "py_net_sales": 3962.31}, {"date": "2026-01-31", "net_sales": 2926.15, "labor_cost": 628.9, "labor_pct": 21.5, "guests": 135, "checks": 135, "py_net_sales": 2354.74}, {"date": "2026-02-01", "net_sales": 3199.74, "labor_cost": 485.25, "labor_pct": 15.2, "guests": 141, "checks": 141, "py_net_sales": 1799.55}, {"date": "2026-02-02", "net_sales": 3278.06, "labor_cost": 726.38, "labor_pct": 22.2, "guests": 183, "checks": 183, "py_net_sales": 2597.19}, {"date": "2026-02-03", "net_sales": 4233.14, "labor_cost": 627.48, "labor_pct": 14.8, "guests": 187, "checks": 187, "py_net_sales": 3502.7}, {"date": "2026-02-04", "net_sales": 3578.02, "labor_cost": 601.71, "labor_pct": 16.8, "guests": 192, "checks": 192, "py_net_sales": 3718.24}, {"date": "2026-02-05", "net_sales": 3435.46, "labor_cost": 500.64, "labor_pct": 14.6, "guests": 189, "checks": 189, "py_net_sales": 3345.75}, {"date": "2026-02-06", "net_sales": 3654.57, "labor_cost": 496.45, "labor_pct": 13.6, "guests": 198, "checks": 198, "py_net_sales": 3400.79}, {"date": "2026-02-07", "net_sales": 2526.83, "labor_cost": 604.49, "labor_pct": 23.9, "guests": 111, "checks": 111, "py_net_sales": 2964.69}, {"date": "2026-02-08", "net_sales": 2185.01, "labor_cost": 470.1, "labor_pct": 21.5, "guests": 95, "checks": 95, "py_net_sales": 2068.84}, {"date": "2026-02-09", "net_sales": 3934.82, "labor_cost": 604.44, "labor_pct": 15.4, "guests": 215, "checks": 215, "py_net_sales": 2851.53}, {"date": "2026-02-10", "net_sales": 3589.0, "labor_cost": 670.51, "labor_pct": 18.7, "guests": 197, "checks": 197, "py_net_sales": 3340.42}, {"date": "2026-02-11", "net_sales": 3249.19, "labor_cost": 653.34, "labor_pct": 20.1, "guests": 187, "checks": 187, "py_net_sales": 1916.88}, {"date": "2026-02-12", "net_sales": 3969.55, "labor_cost": 612.38, "labor_pct": 15.4, "guests": 216, "checks": 216, "py_net_sales": 3433.87}, {"date": "2026-02-13", "net_sales": 4326.69, "labor_cost": 648.94, "labor_pct": 15.0, "guests": 226, "checks": 226, "py_net_sales": 3009.2}, {"date": "2026-02-14", "net_sales": 3305.21, "labor_cost": 611.25, "labor_pct": 18.5, "guests": 151, "checks": 151, "py_net_sales": 1874.13}, {"date": "2026-02-15", "net_sales": 2701.19, "labor_cost": 484.1, "labor_pct": 17.9, "guests": 117, "checks": 117, "py_net_sales": 2853.71}, {"date": "2026-02-16", "net_sales": 3401.81, "labor_cost": 691.74, "labor_pct": 20.3, "guests": 172, "checks": 172, "py_net_sales": 2844.57}, {"date": "2026-02-17", "net_sales": 4356.65, "labor_cost": 652.49, "labor_pct": 15.0, "guests": 201, "checks": 201, "py_net_sales": 2998.94}, {"date": "2026-02-18", "net_sales": 4548.56, "labor_cost": 695.89, "labor_pct": 15.3, "guests": 225, "checks": 225, "py_net_sales": 3417.15}, {"date": "2026-02-19", "net_sales": 4719.52, "labor_cost": 562.0, "labor_pct": 11.9, "guests": 220, "checks": 220, "py_net_sales": 4470.82}, {"date": "2026-02-20", "net_sales": 3989.45, "labor_cost": 604.73, "labor_pct": 15.2, "guests": 208, "checks": 208, "py_net_sales": 4197.34}, {"date": "2026-02-21", "net_sales": 3229.58, "labor_cost": 581.35, "labor_pct": 18.0, "guests": 149, "checks": 149, "py_net_sales": 2762.12}, {"date": "2026-02-22", "net_sales": 2558.68, "labor_cost": 562.53, "labor_pct": 22.0, "guests": 120, "checks": 120, "py_net_sales": 2491.83}, {"date": "2026-02-23", "net_sales": 3375.75, "labor_cost": 638.59, "labor_pct": 18.9, "guests": 166, "checks": 166, "py_net_sales": 4213.84}], "labor_pct": 17.3, "avg_check": 19.97, "sss_growth": 12.6, "budget_sales": 98418.1, "budget_cogs_pct": 30.7, "budget_payroll_pct": 28.6, "budget_crew_wages_pct": 20.1, "budget_sales_prorated": 94903.17, "budget_variance": 0.6}, "8004": {"name": "Old Sauk", "net_sales": 103357.36, "gross_sales": 108962.95, "guests": 5087, "checks": 5087, "labor_cost": 17444.77, "labor_hours": 1524.98, "py_net_sales": 80470.42, "py_guests": 4162, "daily": [{"date": "2026-01-28", "net_sales": 3530.71, "labor_cost": 583.69, "labor_pct": 16.5, "guests": 187, "checks": 187, "py_net_sales": 3979.98}, {"date": "2026-01-29", "net_sales": 4720.31, "labor_cost": 713.09, "labor_pct": 15.1, "guests": 238, "checks": 238, "py_net_sales": 3314.97}, {"date": "2026-01-30", "net_sales": 4156.42, "labor_cost": 771.31, "labor_pct": 18.6, "guests": 209, "checks": 209, "py_net_sales": 3792.92}, {"date": "2026-01-31", "net_sales": 3061.2, "labor_cost": 499.0, "labor_pct": 16.3, "guests": 128, "checks": 128, "py_net_sales": 2307.8}, {"date": "2026-02-01", "net_sales": 3045.79, "labor_cost": 506.5, "labor_pct": 16.6, "guests": 143, "checks": 143, "py_net_sales": 1895.8}, {"date": "2026-02-02", "net_sales": 3619.61, "labor_cost": 655.24, "labor_pct": 18.1, "guests": 189, "checks": 189, "py_net_sales": 2879.78}, {"date": "2026-02-03", "net_sales": 4441.74, "labor_cost": 704.74, "labor_pct": 15.9, "guests": 224, "checks": 224, "py_net_sales": 3410.23}, {"date": "2026-02-04", "net_sales": 4544.28, "labor_cost": 609.03, "labor_pct": 13.4, "guests": 208, "checks": 208, "py_net_sales": 3588.18}, {"date": "2026-02-05", "net_sales": 3605.92, "labor_cost": 707.39, "labor_pct": 19.6, "guests": 202, "checks": 202, "py_net_sales": 4165.24}, {"date": "2026-02-06", "net_sales": 4197.01, "labor_cost": 671.55, "labor_pct": 16.0, "guests": 232, "checks": 232, "py_net_sales": 3759.15}, {"date": "2026-02-07", "net_sales": 3409.39, "labor_cost": 633.1, "labor_pct": 18.6, "guests": 156, "checks": 156, "py_net_sales": 2771.41}, {"date": "2026-02-08", "net_sales": 2393.26, "labor_cost": 624.55, "labor_pct": 26.1, "guests": 105, "checks": 105, "py_net_sales": 1855.08}, {"date": "2026-02-09", "net_sales": 3178.41, "labor_cost": 671.36, "labor_pct": 21.1, "guests": 178, "checks": 178, "py_net_sales": 2833.01}, {"date": "2026-02-10", "net_sales": 4104.97, "labor_cost": 631.94, "labor_pct": 15.4, "guests": 212, "checks": 212, "py_net_sales": 2825.23}, {"date": "2026-02-11", "net_sales": 3785.73, "labor_cost": 617.39, "labor_pct": 16.3, "guests": 191, "checks": 191, "py_net_sales": 2119.11}, {"date": "2026-02-12", "net_sales": 4055.16, "labor_cost": 703.85, "labor_pct": 17.4, "guests": 212, "checks": 212, "py_net_sales": 2963.89}, {"date": "2026-02-13", "net_sales": 5021.04, "labor_cost": 727.64, "labor_pct": 14.5, "guests": 220, "checks": 220, "py_net_sales": 2830.9}, {"date": "2026-02-14", "net_sales": 4134.8, "labor_cost": 773.69, "labor_pct": 18.7, "guests": 178, "checks": 178, "py_net_sales": 2212.49}, {"date": "2026-02-15", "net_sales": 3811.02, "labor_cost": 585.44, "labor_pct": 15.4, "guests": 164, "checks": 164, "py_net_sales": 2630.86}, {"date": "2026-02-16", "net_sales": 3794.55, "labor_cost": 611.36, "labor_pct": 16.1, "guests": 191, "checks": 191, "py_net_sales": 3247.89}, {"date": "2026-02-17", "net_sales": 4395.67, "labor_cost": 568.8, "labor_pct": 12.9, "guests": 220, "checks": 220, "py_net_sales": 3277.24}, {"date": "2026-02-18", "net_sales": 3875.36, "labor_cost": 758.22, "labor_pct": 19.6, "guests": 210, "checks": 210, "py_net_sales": 3145.66}, {"date": "2026-02-19", "net_sales": 4172.54, "labor_cost": 710.89, "labor_pct": 17.0, "guests": 217, "checks": 217, "py_net_sales": 3093.33}, {"date": "2026-02-20", "net_sales": 4480.77, "labor_cost": 548.52, "labor_pct": 12.2, "guests": 213, "checks": 213, "py_net_sales": 3407.39}, {"date": "2026-02-21", "net_sales": 3239.8, "labor_cost": 611.45, "labor_pct": 18.9, "guests": 143, "checks": 143, "py_net_sales": 2861.22}, {"date": "2026-02-22", "net_sales": 3161.39, "labor_cost": 592.93, "labor_pct": 18.8, "guests": 150, "checks": 150, "py_net_sales": 2329.72}, {"date": "2026-02-23", "net_sales": 3420.51, "labor_cost": 652.1, "labor_pct": 19.1, "guests": 167, "checks": 167, "py_net_sales": 2971.94}], "labor_pct": 16.9, "avg_check": 20.32, "sss_growth": 28.4, "budget_sales": 88129.46, "budget_cogs_pct": 30.7, "budget_payroll_pct": 29.2, "budget_crew_wages_pct": 20.0, "budget_sales_prorated": 84981.98, "budget_variance": 21.6}, "8005": {"name": "Champaign", "net_sales": 51376.55, "gross_sales": 56935.09, "guests": 3061, "checks": 3061, "labor_cost": 14359.72, "labor_hours": 1388.08, "py_net_sales": 48524.63, "py_guests": 3003, "daily": [{"date": "2026-01-28", "net_sales": 1053.94, "labor_cost": 422.14, "labor_pct": 40.1, "guests": 60, "checks": 60, "py_net_sales": 2198.61}, {"date": "2026-01-29", "net_sales": 1509.43, "labor_cost": 584.07, "labor_pct": 38.7, "guests": 98, "checks": 98, "py_net_sales": 1737.58}, {"date": "2026-01-30", "net_sales": 1715.21, "labor_cost": 492.15, "labor_pct": 28.7, "guests": 100, "checks": 100, "py_net_sales": 1889.07}, {"date": "2026-01-31", "net_sales": 1816.54, "labor_cost": 493.78, "labor_pct": 27.2, "guests": 109, "checks": 109, "py_net_sales": 1812.23}, {"date": "2026-02-01", "net_sales": 1672.73, "labor_cost": 595.76, "labor_pct": 35.6, "guests": 72, "checks": 72, "py_net_sales": 1188.45}, {"date": "2026-02-02", "net_sales": 1374.96, "labor_cost": 561.73, "labor_pct": 40.9, "guests": 95, "checks": 95, "py_net_sales": 1825.23}, {"date": "2026-02-03", "net_sales": 1505.01, "labor_cost": 557.87, "labor_pct": 37.1, "guests": 98, "checks": 98, "py_net_sales": 1140.01}, {"date": "2026-02-04", "net_sales": 1401.32, "labor_cost": 498.66, "labor_pct": 35.6, "guests": 95, "checks": 95, "py_net_sales": 1489.19}, {"date": "2026-02-05", "net_sales": 1369.93, "labor_cost": 473.94, "labor_pct": 34.6, "guests": 78, "checks": 78, "py_net_sales": 2828.6}, {"date": "2026-02-06", "net_sales": 2659.91, "labor_cost": 520.2, "labor_pct": 19.6, "guests": 129, "checks": 129, "py_net_sales": 2321.18}, {"date": "2026-02-07", "net_sales": 2141.94, "labor_cost": 550.3, "labor_pct": 25.7, "guests": 99, "checks": 99, "py_net_sales": 2029.77}, {"date": "2026-02-08", "net_sales": 1360.82, "labor_cost": 598.96, "labor_pct": 44.0, "guests": 100, "checks": 100, "py_net_sales": 1405.36}, {"date": "2026-02-09", "net_sales": 1938.62, "labor_cost": 515.68, "labor_pct": 26.6, "guests": 116, "checks": 116, "py_net_sales": 1691.37}, {"date": "2026-02-10", "net_sales": 2245.73, "labor_cost": 532.93, "labor_pct": 23.7, "guests": 156, "checks": 156, "py_net_sales": 2097.62}, {"date": "2026-02-11", "net_sales": 1940.84, "labor_cost": 435.59, "labor_pct": 22.4, "guests": 118, "checks": 118, "py_net_sales": 1306.63}, {"date": "2026-02-12", "net_sales": 2123.37, "labor_cost": 605.81, "labor_pct": 28.5, "guests": 115, "checks": 115, "py_net_sales": 1613.0}, {"date": "2026-02-13", "net_sales": 2027.32, "labor_cost": 658.87, "labor_pct": 32.5, "guests": 123, "checks": 123, "py_net_sales": 2218.04}, {"date": "2026-02-14", "net_sales": 2147.61, "labor_cost": 548.65, "labor_pct": 25.5, "guests": 122, "checks": 122, "py_net_sales": 1483.81}, {"date": "2026-02-15", "net_sales": 2222.09, "labor_cost": 596.69, "labor_pct": 26.9, "guests": 124, "checks": 124, "py_net_sales": 1825.78}, {"date": "2026-02-16", "net_sales": 2498.81, "labor_cost": 627.6, "labor_pct": 25.1, "guests": 143, "checks": 143, "py_net_sales": 1985.51}, {"date": "2026-02-17", "net_sales": 2140.99, "labor_cost": 477.75, "labor_pct": 22.3, "guests": 130, "checks": 130, "py_net_sales": 1681.76}, {"date": "2026-02-18", "net_sales": 2588.83, "labor_cost": 488.32, "labor_pct": 18.9, "guests": 149, "checks": 149, "py_net_sales": 1562.51}, {"date": "2026-02-19", "net_sales": 2700.82, "labor_cost": 621.32, "labor_pct": 23.0, "guests": 170, "checks": 170, "py_net_sales": 1750.22}, {"date": "2026-02-20", "net_sales": 1977.31, "labor_cost": 684.98, "labor_pct": 34.6, "guests": 129, "checks": 129, "py_net_sales": 1885.89}, {"date": "2026-02-21", "net_sales": 1919.76, "labor_cost": 719.11, "labor_pct": 37.5, "guests": 129, "checks": 129, "py_net_sales": 1934.15}, {"date": "2026-02-22", "net_sales": 1605.45, "labor_cost": 38.28, "labor_pct": 2.4, "guests": 97, "checks": 97, "py_net_sales": 1716.98}, {"date": "2026-02-23", "net_sales": 1717.26, "labor_cost": 458.58, "labor_pct": 26.7, "guests": 107, "checks": 107, "py_net_sales": 1906.08}], "labor_pct": 27.9, "avg_check": 16.78, "sss_growth": 5.9, "budget_sales": 56791.54, "budget_cogs_pct": 30.7, "budget_payroll_pct": 40.5, "budget_crew_wages_pct": 28.0, "budget_sales_prorated": 54763.27, "budget_variance": -6.2}, "8006": {"name": "Whitefish Bay", "net_sales": 98628.67, "gross_sales": 104438.23, "guests": 4422, "checks": 4422, "labor_cost": 16866.87, "labor_hours": 1827.64, "py_net_sales": 72480.13, "py_guests": 3341, "daily": [{"date": "2026-01-28", "net_sales": 3163.83, "labor_cost": 604.72, "labor_pct": 19.1, "guests": 160, "checks": 160, "py_net_sales": 2539.22}, {"date": "2026-01-29", "net_sales": 3849.78, "labor_cost": 649.05, "labor_pct": 16.9, "guests": 177, "checks": 177, "py_net_sales": 3594.29}, {"date": "2026-01-30", "net_sales": 3611.48, "labor_cost": 724.96, "labor_pct": 20.1, "guests": 163, "checks": 163, "py_net_sales": 2782.98}, {"date": "2026-01-31", "net_sales": 3316.13, "labor_cost": 610.24, "labor_pct": 18.4, "guests": 139, "checks": 139, "py_net_sales": 2965.34}, {"date": "2026-02-01", "net_sales": 3052.94, "labor_cost": 540.5, "labor_pct": 17.7, "guests": 127, "checks": 127, "py_net_sales": 2153.07}, {"date": "2026-02-02", "net_sales": 3477.89, "labor_cost": 708.78, "labor_pct": 20.4, "guests": 161, "checks": 161, "py_net_sales": 2686.55}, {"date": "2026-02-03", "net_sales": 3530.41, "labor_cost": 629.53, "labor_pct": 17.8, "guests": 156, "checks": 156, "py_net_sales": 2426.64}, {"date": "2026-02-04", "net_sales": 3295.47, "labor_cost": 649.42, "labor_pct": 19.7, "guests": 161, "checks": 161, "py_net_sales": 3043.76}, {"date": "2026-02-05", "net_sales": 4447.29, "labor_cost": 580.0, "labor_pct": 13.0, "guests": 180, "checks": 180, "py_net_sales": 3702.69}, {"date": "2026-02-06", "net_sales": 4631.77, "labor_cost": 615.62, "labor_pct": 13.3, "guests": 201, "checks": 201, "py_net_sales": 3491.35}, {"date": "2026-02-07", "net_sales": 2577.41, "labor_cost": 566.83, "labor_pct": 22.0, "guests": 115, "checks": 115, "py_net_sales": 2618.6}, {"date": "2026-02-08", "net_sales": 1968.42, "labor_cost": 594.21, "labor_pct": 30.2, "guests": 93, "checks": 93, "py_net_sales": 1159.17}, {"date": "2026-02-09", "net_sales": 3473.99, "labor_cost": 663.13, "labor_pct": 19.1, "guests": 168, "checks": 168, "py_net_sales": 2990.7}, {"date": "2026-02-10", "net_sales": 3271.2, "labor_cost": 640.35, "labor_pct": 19.6, "guests": 158, "checks": 158, "py_net_sales": 2640.99}, {"date": "2026-02-11", "net_sales": 5112.33, "labor_cost": 591.21, "labor_pct": 11.6, "guests": 207, "checks": 207, "py_net_sales": 1423.91}, {"date": "2026-02-12", "net_sales": 4033.55, "labor_cost": 759.29, "labor_pct": 18.8, "guests": 196, "checks": 196, "py_net_sales": 3451.79}, {"date": "2026-02-13", "net_sales": 4674.2, "labor_cost": 743.48, "labor_pct": 15.9, "guests": 200, "checks": 200, "py_net_sales": 3382.89}, {"date": "2026-02-14", "net_sales": 2947.86, "labor_cost": 706.3, "labor_pct": 24.0, "guests": 126, "checks": 126, "py_net_sales": 1765.36}, {"date": "2026-02-15", "net_sales": 3151.85, "labor_cost": 390.94, "labor_pct": 12.4, "guests": 135, "checks": 135, "py_net_sales": 1746.73}, {"date": "2026-02-16", "net_sales": 4226.85, "labor_cost": 599.86, "labor_pct": 14.2, "guests": 202, "checks": 202, "py_net_sales": 2859.93}, {"date": "2026-02-17", "net_sales": 3189.78, "labor_cost": 650.75, "labor_pct": 20.4, "guests": 153, "checks": 153, "py_net_sales": 2334.27}, {"date": "2026-02-18", "net_sales": 4281.18, "labor_cost": 525.66, "labor_pct": 12.3, "guests": 195, "checks": 195, "py_net_sales": 2990.46}, {"date": "2026-02-19", "net_sales": 4363.01, "labor_cost": 636.97, "labor_pct": 14.6, "guests": 192, "checks": 192, "py_net_sales": 3179.88}, {"date": "2026-02-20", "net_sales": 4191.8, "labor_cost": 563.38, "labor_pct": 13.4, "guests": 191, "checks": 191, "py_net_sales": 3815.36}, {"date": "2026-02-21", "net_sales": 3592.42, "labor_cost": 571.26, "labor_pct": 15.9, "guests": 145, "checks": 145, "py_net_sales": 2255.56}, {"date": "2026-02-22", "net_sales": 4010.08, "labor_cost": 656.97, "labor_pct": 16.4, "guests": 162, "checks": 162, "py_net_sales": 2123.04}, {"date": "2026-02-23", "net_sales": 3185.75, "labor_cost": 693.44, "labor_pct": 21.8, "guests": 159, "checks": 159, "py_net_sales": 2355.6}], "labor_pct": 17.1, "avg_check": 22.3, "sss_growth": 36.1, "budget_sales": 84810.2, "budget_cogs_pct": 30.7, "budget_payroll_pct": 29.4, "budget_crew_wages_pct": 20.3, "budget_sales_prorated": 81781.26, "budget_variance": 20.6}, "8007": {"name": "Sun Prairie", "net_sales": 102068.64, "gross_sales": 107625.53, "guests": 4771, "checks": 4771, "labor_cost": 18499.43, "labor_hours": 2032.12, "py_net_sales": 68158.66, "py_guests": 3111, "daily": [{"date": "2026-01-28", "net_sales": 3457.5, "labor_cost": 674.96, "labor_pct": 19.5, "guests": 171, "checks": 171, "py_net_sales": 3120.73}, {"date": "2026-01-29", "net_sales": 3545.92, "labor_cost": 642.14, "labor_pct": 18.1, "guests": 176, "checks": 176, "py_net_sales": 2761.43}, {"date": "2026-01-30", "net_sales": 4165.28, "labor_cost": 764.35, "labor_pct": 18.4, "guests": 202, "checks": 202, "py_net_sales": 3486.48}, {"date": "2026-01-31", "net_sales": 3992.67, "labor_cost": 741.38, "labor_pct": 18.6, "guests": 181, "checks": 181, "py_net_sales": 2625.83}, {"date": "2026-02-01", "net_sales": 3158.19, "labor_cost": 615.89, "labor_pct": 19.5, "guests": 142, "checks": 142, "py_net_sales": 2329.59}, {"date": "2026-02-02", "net_sales": 2998.88, "labor_cost": 753.5, "labor_pct": 25.1, "guests": 157, "checks": 157, "py_net_sales": 2413.19}, {"date": "2026-02-03", "net_sales": 4355.58, "labor_cost": 630.38, "labor_pct": 14.5, "guests": 206, "checks": 206, "py_net_sales": 2236.57}, {"date": "2026-02-04", "net_sales": 3498.5, "labor_cost": 613.52, "labor_pct": 17.5, "guests": 159, "checks": 159, "py_net_sales": 2474.29}, {"date": "2026-02-05", "net_sales": 3704.62, "labor_cost": 651.07, "labor_pct": 17.6, "guests": 186, "checks": 186, "py_net_sales": 2660.71}, {"date": "2026-02-06", "net_sales": 4407.14, "labor_cost": 734.12, "labor_pct": 16.7, "guests": 206, "checks": 206, "py_net_sales": 2404.76}, {"date": "2026-02-07", "net_sales": 3661.56, "labor_cost": 706.67, "labor_pct": 19.3, "guests": 165, "checks": 165, "py_net_sales": 2469.29}, {"date": "2026-02-08", "net_sales": 2808.69, "labor_cost": 616.58, "labor_pct": 22.0, "guests": 126, "checks": 126, "py_net_sales": 1805.23}, {"date": "2026-02-09", "net_sales": 3124.4, "labor_cost": 637.27, "labor_pct": 20.4, "guests": 152, "checks": 152, "py_net_sales": 1988.62}, {"date": "2026-02-10", "net_sales": 3575.41, "labor_cost": 681.32, "labor_pct": 19.1, "guests": 162, "checks": 162, "py_net_sales": 2313.89}, {"date": "2026-02-11", "net_sales": 4060.29, "labor_cost": 689.03, "labor_pct": 17.0, "guests": 185, "checks": 185, "py_net_sales": 1195.55}, {"date": "2026-02-12", "net_sales": 4648.93, "labor_cost": 744.41, "labor_pct": 16.0, "guests": 216, "checks": 216, "py_net_sales": 2431.78}, {"date": "2026-02-13", "net_sales": 4314.52, "labor_cost": 731.7, "labor_pct": 17.0, "guests": 208, "checks": 208, "py_net_sales": 2645.19}, {"date": "2026-02-14", "net_sales": 3430.8, "labor_cost": 751.97, "labor_pct": 21.9, "guests": 140, "checks": 140, "py_net_sales": 2081.07}, {"date": "2026-02-15", "net_sales": 3329.68, "labor_cost": 567.08, "labor_pct": 17.0, "guests": 136, "checks": 136, "py_net_sales": 2292.77}, {"date": "2026-02-16", "net_sales": 4008.14, "labor_cost": 620.41, "labor_pct": 15.5, "guests": 195, "checks": 195, "py_net_sales": 2888.08}, {"date": "2026-02-17", "net_sales": 4049.03, "labor_cost": 638.25, "labor_pct": 15.8, "guests": 196, "checks": 196, "py_net_sales": 2874.18}, {"date": "2026-02-18", "net_sales": 4535.71, "labor_cost": 712.58, "labor_pct": 15.7, "guests": 196, "checks": 196, "py_net_sales": 2280.96}, {"date": "2026-02-19", "net_sales": 3994.45, "labor_cost": 787.08, "labor_pct": 19.7, "guests": 212, "checks": 212, "py_net_sales": 2621.75}, {"date": "2026-02-20", "net_sales": 4140.96, "labor_cost": 852.0, "labor_pct": 20.6, "guests": 189, "checks": 189, "py_net_sales": 3520.95}, {"date": "2026-02-21", "net_sales": 3634.01, "labor_cost": 813.64, "labor_pct": 22.4, "guests": 168, "checks": 168, "py_net_sales": 2654.27}, {"date": "2026-02-22", "net_sales": 3815.31, "labor_cost": 507.26, "labor_pct": 13.3, "guests": 161, "checks": 161, "py_net_sales": 2442.95}, {"date": "2026-02-23", "net_sales": 3652.47, "labor_cost": 620.87, "labor_pct": 17.0, "guests": 178, "checks": 178, "py_net_sales": 3138.55}], "labor_pct": 18.1, "avg_check": 21.39, "sss_growth": 49.8, "budget_sales": 91698.1, "budget_cogs_pct": 30.7, "budget_payroll_pct": 29.5, "budget_crew_wages_pct": 20.7, "budget_sales_prorated": 88423.17, "budget_variance": 15.4}, "8008": {"name": "Pewaukee", "net_sales": 59865.45, "gross_sales": 63067.44, "guests": 2645, "checks": 2645, "labor_cost": 12517.99, "labor_hours": 1309.55, "py_net_sales": 43032.7, "py_guests": 2066, "daily": [{"date": "2026-01-28", "net_sales": 2181.61, "labor_cost": 492.21, "labor_pct": 22.6, "guests": 100, "checks": 100, "py_net_sales": 1473.44}, {"date": "2026-01-29", "net_sales": 2367.02, "labor_cost": 267.35, "labor_pct": 11.3, "guests": 109, "checks": 109, "py_net_sales": 1964.67}, {"date": "2026-01-30", "net_sales": 2423.1, "labor_cost": 350.68, "labor_pct": 14.5, "guests": 97, "checks": 97, "py_net_sales": 1872.9}, {"date": "2026-01-31", "net_sales": 1873.27, "labor_cost": 443.35, "labor_pct": 23.7, "guests": 76, "checks": 76, "py_net_sales": 1568.69}, {"date": "2026-02-01", "net_sales": 1999.5, "labor_cost": 629.22, "labor_pct": 31.5, "guests": 81, "checks": 81, "py_net_sales": 1703.68}, {"date": "2026-02-02", "net_sales": 1745.14, "labor_cost": 319.91, "labor_pct": 18.3, "guests": 92, "checks": 92, "py_net_sales": 1764.63}, {"date": "2026-02-03", "net_sales": 2022.51, "labor_cost": 364.94, "labor_pct": 18.0, "guests": 96, "checks": 96, "py_net_sales": 1593.48}, {"date": "2026-02-04", "net_sales": 2009.12, "labor_cost": 470.74, "labor_pct": 23.4, "guests": 86, "checks": 86, "py_net_sales": 1934.71}, {"date": "2026-02-05", "net_sales": 2404.07, "labor_cost": 464.04, "labor_pct": 19.3, "guests": 110, "checks": 110, "py_net_sales": 1763.91}, {"date": "2026-02-06", "net_sales": 2712.86, "labor_cost": 469.31, "labor_pct": 17.3, "guests": 105, "checks": 105, "py_net_sales": 2004.76}, {"date": "2026-02-07", "net_sales": 1766.34, "labor_cost": 330.08, "labor_pct": 18.7, "guests": 77, "checks": 77, "py_net_sales": 1706.87}, {"date": "2026-02-08", "net_sales": 1108.93, "labor_cost": 499.07, "labor_pct": 45.0, "guests": 47, "checks": 47, "py_net_sales": 963.32}, {"date": "2026-02-09", "net_sales": 1457.36, "labor_cost": 472.21, "labor_pct": 32.4, "guests": 73, "checks": 73, "py_net_sales": 1242.29}, {"date": "2026-02-10", "net_sales": 2421.0, "labor_cost": 360.35, "labor_pct": 14.9, "guests": 114, "checks": 114, "py_net_sales": 1966.99}, {"date": "2026-02-11", "net_sales": 2738.25, "labor_cost": 389.02, "labor_pct": 14.2, "guests": 121, "checks": 121, "py_net_sales": 729.36}, {"date": "2026-02-12", "net_sales": 2010.47, "labor_cost": 375.55, "labor_pct": 18.7, "guests": 107, "checks": 107, "py_net_sales": 1446.05}, {"date": "2026-02-13", "net_sales": 2701.7, "labor_cost": 445.35, "labor_pct": 16.5, "guests": 120, "checks": 120, "py_net_sales": 1679.02}, {"date": "2026-02-14", "net_sales": 2215.86, "labor_cost": 357.06, "labor_pct": 16.1, "guests": 91, "checks": 91, "py_net_sales": 1285.55}, {"date": "2026-02-15", "net_sales": 1921.5, "labor_cost": 521.67, "labor_pct": 27.1, "guests": 73, "checks": 73, "py_net_sales": 1002.15}, {"date": "2026-02-16", "net_sales": 2063.8, "labor_cost": 418.93, "labor_pct": 20.3, "guests": 105, "checks": 105, "py_net_sales": 1534.75}, {"date": "2026-02-17", "net_sales": 2286.45, "labor_cost": 626.73, "labor_pct": 27.4, "guests": 107, "checks": 107, "py_net_sales": 1306.88}, {"date": "2026-02-18", "net_sales": 3028.88, "labor_cost": 801.98, "labor_pct": 26.5, "guests": 119, "checks": 119, "py_net_sales": 1950.75}, {"date": "2026-02-19", "net_sales": 3210.12, "labor_cost": 608.28, "labor_pct": 18.9, "guests": 136, "checks": 136, "py_net_sales": 1764.25}, {"date": "2026-02-20", "net_sales": 2475.96, "labor_cost": 567.88, "labor_pct": 22.9, "guests": 113, "checks": 113, "py_net_sales": 2045.2}, {"date": "2026-02-21", "net_sales": 2390.19, "labor_cost": 717.14, "labor_pct": 30.0, "guests": 104, "checks": 104, "py_net_sales": 1581.34}, {"date": "2026-02-22", "net_sales": 2180.69, "labor_cost": 46.07, "labor_pct": 2.1, "guests": 83, "checks": 83, "py_net_sales": 1290.67}, {"date": "2026-02-23", "net_sales": 2149.75, "labor_cost": 708.86, "labor_pct": 33.0, "guests": 103, "checks": 103, "py_net_sales": 1892.39}], "labor_pct": 20.9, "avg_check": 22.63, "sss_growth": 39.1, "budget_sales": 53120.4, "budget_cogs_pct": 30.7, "budget_payroll_pct": 43.9, "budget_crew_wages_pct": 29.1, "budget_sales_prorated": 51223.24, "budget_variance": 16.9}, "8009": {"name": "MKE Public Market", "net_sales": 68511.11, "gross_sales": 74181.67, "guests": 3744, "checks": 3744, "labor_cost": 14205.65, "labor_hours": 1645.4, "py_net_sales": 42649.35, "py_guests": 2888, "daily": [{"date": "2026-01-28", "net_sales": 2430.15, "labor_cost": 469.8, "labor_pct": 19.3, "guests": 112, "checks": 112, "py_net_sales": 111.25}, {"date": "2026-01-29", "net_sales": 2174.54, "labor_cost": 374.25, "labor_pct": 17.2, "guests": 119, "checks": 119, "py_net_sales": 96.7}, {"date": "2026-01-30", "net_sales": 2537.91, "labor_cost": 486.0, "labor_pct": 19.1, "guests": 126, "checks": 126, "py_net_sales": 1758.03}, {"date": "2026-01-31", "net_sales": 2540.87, "labor_cost": 601.32, "labor_pct": 23.7, "guests": 160, "checks": 160, "py_net_sales": 2361.9}, {"date": "2026-02-01", "net_sales": 1939.9, "labor_cost": 419.52, "labor_pct": 21.6, "guests": 113, "checks": 113, "py_net_sales": 1406.73}, {"date": "2026-02-02", "net_sales": 1830.81, "labor_cost": 366.8, "labor_pct": 20.0, "guests": 105, "checks": 105, "py_net_sales": 1584.01}, {"date": "2026-02-03", "net_sales": 2095.19, "labor_cost": 521.67, "labor_pct": 24.9, "guests": 130, "checks": 130, "py_net_sales": 1792.84}, {"date": "2026-02-04", "net_sales": 2479.17, "labor_cost": 491.06, "labor_pct": 19.8, "guests": 147, "checks": 147, "py_net_sales": 2566.19}, {"date": "2026-02-05", "net_sales": 2245.24, "labor_cost": 370.28, "labor_pct": 16.5, "guests": 119, "checks": 119, "py_net_sales": 2060.97}, {"date": "2026-02-06", "net_sales": 2781.58, "labor_cost": 617.58, "labor_pct": 22.2, "guests": 156, "checks": 156, "py_net_sales": 2272.93}, {"date": "2026-02-07", "net_sales": 2029.93, "labor_cost": 720.93, "labor_pct": 35.5, "guests": 125, "checks": 125, "py_net_sales": 1899.21}, {"date": "2026-02-08", "net_sales": 1282.12, "labor_cost": 380.78, "labor_pct": 29.7, "guests": 77, "checks": 77, "py_net_sales": 1458.69}, {"date": "2026-02-09", "net_sales": 2442.49, "labor_cost": 468.05, "labor_pct": 19.2, "guests": 138, "checks": 138, "py_net_sales": 1798.13}, {"date": "2026-02-10", "net_sales": 2382.17, "labor_cost": 646.91, "labor_pct": 27.2, "guests": 121, "checks": 121, "py_net_sales": 1267.39}, {"date": "2026-02-11", "net_sales": 2430.95, "labor_cost": 540.81, "labor_pct": 22.2, "guests": 137, "checks": 137, "py_net_sales": 673.69}, {"date": "2026-02-12", "net_sales": 2887.54, "labor_cost": 422.07, "labor_pct": 14.6, "guests": 158, "checks": 158, "py_net_sales": 1412.69}, {"date": "2026-02-13", "net_sales": 3320.71, "labor_cost": 592.3, "labor_pct": 17.8, "guests": 179, "checks": 179, "py_net_sales": 1615.87}, {"date": "2026-02-14", "net_sales": 3179.93, "labor_cost": 759.68, "labor_pct": 23.9, "guests": 170, "checks": 170, "py_net_sales": 1635.99}, {"date": "2026-02-15", "net_sales": 2896.87, "labor_cost": 502.31, "labor_pct": 17.3, "guests": 163, "checks": 163, "py_net_sales": 1639.59}, {"date": "2026-02-16", "net_sales": 3899.8, "labor_cost": 535.56, "labor_pct": 13.7, "guests": 190, "checks": 190, "py_net_sales": 1248.58}, {"date": "2026-02-17", "net_sales": 2600.53, "labor_cost": 551.69, "labor_pct": 21.2, "guests": 124, "checks": 124, "py_net_sales": 1286.67}, {"date": "2026-02-18", "net_sales": 3390.4, "labor_cost": 463.13, "labor_pct": 13.7, "guests": 166, "checks": 166, "py_net_sales": 1671.82}, {"date": "2026-02-19", "net_sales": 2783.54, "labor_cost": 506.13, "labor_pct": 18.2, "guests": 156, "checks": 156, "py_net_sales": 1291.57}, {"date": "2026-02-20", "net_sales": 2587.0, "labor_cost": 482.01, "labor_pct": 18.6, "guests": 147, "checks": 147, "py_net_sales": 2013.2}, {"date": "2026-02-21", "net_sales": 3180.05, "labor_cost": 780.27, "labor_pct": 24.5, "guests": 173, "checks": 173, "py_net_sales": 1979.2}, {"date": "2026-02-22", "net_sales": 1782.23, "labor_cost": 511.28, "labor_pct": 28.7, "guests": 98, "checks": 98, "py_net_sales": 1689.31}, {"date": "2026-02-23", "net_sales": 2379.49, "labor_cost": 623.46, "labor_pct": 26.2, "guests": 135, "checks": 135, "py_net_sales": 2056.2}], "labor_pct": 20.7, "avg_check": 18.3, "sss_growth": null, "budget_sales": 70771.2, "budget_cogs_pct": 30.7, "budget_payroll_pct": 32.3, "budget_crew_wages_pct": 22.1, "budget_sales_prorated": 68243.66, "budget_variance": 0.4}, "8010": {"name": "Brookfield", "net_sales": 0, "gross_sales": 0, "guests": 0, "checks": 0, "labor_cost": 0, "labor_hours": 0, "py_net_sales": 0, "py_guests": 0, "daily": [], "labor_pct": 0, "avg_check": 0, "sss_growth": null, "budget_sales": 0.0, "budget_cogs_pct": 0, "budget_payroll_pct": 0, "budget_crew_wages_pct": 0, "budget_sales_prorated": 0.0, "budget_variance": null}}, "all_stores": {"name": "All Stores", "net_sales": 764531.83, "gross_sales": 810568.9, "guests": 38541, "checks": 38541, "labor_cost": 146082.99, "labor_hours": 15168.18, "py_net_sales": 598952.53, "labor_pct": 19.1, "avg_check": 19.84, "sss_growth": 25.1, "budget_sales": 724066.98, "budget_cogs_pct": 30.7, "budget_payroll_pct": 31.7, "budget_crew_wages_pct": 21.9, "budget_sales_prorated": 698207.44, "budget_variance": 9.5, "daily": [{"date": "2026-01-28", "net_sales": 28905.26, "labor_cost": 5246.26, "labor_pct": 18.1, "guests": 1395, "checks": 1395, "py_net_sales": 23903.32}, {"date": "2026-01-29", "net_sales": 28520.61, "labor_cost": 5321.87, "labor_pct": 18.7, "guests": 1516, "checks": 1516, "py_net_sales": 25809.61}, {"date": "2026-01-30", "net_sales": 28532.24, "labor_cost": 5842.78, "labor_pct": 20.5, "guests": 1435, "checks": 1435, "py_net_sales": 25812.87}, {"date": "2026-01-31", "net_sales": 24934.3, "labor_cost": 5406.61, "labor_pct": 21.7, "guests": 1210, "checks": 1210, "py_net_sales": 20944.8}, {"date": "2026-02-01", "net_sales": 22952.85, "labor_cost": 5045.36, "labor_pct": 22.0, "guests": 1101, "checks": 1101, "py_net_sales": 17521.89}, {"date": "2026-02-02", "net_sales": 24440.93, "labor_cost": 5386.12, "labor_pct": 22.0, "guests": 1328, "checks": 1328, "py_net_sales": 21450.36}, {"date": "2026-02-03", "net_sales": 28915.27, "labor_cost": 5240.87, "labor_pct": 18.1, "guests": 1480, "checks": 1480, "py_net_sales": 21607.36}, {"date": "2026-02-04", "net_sales": 27358.97, "labor_cost": 5234.88, "labor_pct": 19.1, "guests": 1407, "checks": 1407, "py_net_sales": 25220.62}, {"date": "2026-02-05", "net_sales": 29358.04, "labor_cost": 5215.71, "labor_pct": 17.8, "guests": 1492, "checks": 1492, "py_net_sales": 26589.05}, {"date": "2026-02-06", "net_sales": 32736.95, "labor_cost": 5616.66, "labor_pct": 17.2, "guests": 1629, "checks": 1629, "py_net_sales": 27465.12}, {"date": "2026-02-07", "net_sales": 25247.18, "labor_cost": 5549.02, "labor_pct": 22.0, "guests": 1183, "checks": 1183, "py_net_sales": 21797.8}, {"date": "2026-02-08", "net_sales": 17244.08, "labor_cost": 4934.84, "labor_pct": 28.6, "guests": 859, "checks": 859, "py_net_sales": 14691.97}, {"date": "2026-02-09", "net_sales": 26562.98, "labor_cost": 5383.03, "labor_pct": 20.3, "guests": 1426, "checks": 1426, "py_net_sales": 21376.96}, {"date": "2026-02-10", "net_sales": 28712.09, "labor_cost": 5388.67, "labor_pct": 18.8, "guests": 1510, "checks": 1510, "py_net_sales": 22444.32}, {"date": "2026-02-11", "net_sales": 31303.75, "labor_cost": 5237.88, "labor_pct": 16.7, "guests": 1624, "checks": 1624, "py_net_sales": 13527.13}, {"date": "2026-02-12", "net_sales": 30057.54, "labor_cost": 5733.81, "labor_pct": 19.1, "guests": 1597, "checks": 1597, "py_net_sales": 22321.07}, {"date": "2026-02-13", "net_sales": 34001.93, "labor_cost": 6209.18, "labor_pct": 18.3, "guests": 1689, "checks": 1689, "py_net_sales": 23022.46}, {"date": "2026-02-14", "net_sales": 28808.18, "labor_cost": 5738.58, "labor_pct": 19.9, "guests": 1352, "checks": 1352, "py_net_sales": 16942.19}, {"date": "2026-02-15", "net_sales": 26691.31, "labor_cost": 4952.49, "labor_pct": 18.6, "guests": 1251, "checks": 1251, "py_net_sales": 19073.0}, {"date": "2026-02-16", "net_sales": 31045.87, "labor_cost": 5351.32, "labor_pct": 17.2, "guests": 1622, "checks": 1622, "py_net_sales": 23648.87}, {"date": "2026-02-17", "net_sales": 30565.24, "labor_cost": 5355.12, "labor_pct": 17.5, "guests": 1572, "checks": 1572, "py_net_sales": 21058.46}, {"date": "2026-02-18", "net_sales": 34024.98, "labor_cost": 5745.47, "labor_pct": 16.9, "guests": 1705, "checks": 1705, "py_net_sales": 23466.9}, {"date": "2026-02-19", "net_sales": 33114.62, "labor_cost": 5818.03, "labor_pct": 17.6, "guests": 1677, "checks": 1677, "py_net_sales": 24508.85}, {"date": "2026-02-20", "net_sales": 31292.73, "labor_cost": 5654.59, "labor_pct": 18.1, "guests": 1571, "checks": 1571, "py_net_sales": 27709.92}, {"date": "2026-02-21", "net_sales": 27450.82, "labor_cost": 6165.62, "labor_pct": 22.5, "guests": 1338, "checks": 1338, "py_net_sales": 22086.52}, {"date": "2026-02-22", "net_sales": 24646.98, "labor_cost": 3664.35, "labor_pct": 14.9, "guests": 1163, "checks": 1163, "py_net_sales": 19935.93}, {"date": "2026-02-23", "net_sales": 27106.13, "labor_cost": 5643.86, "labor_pct": 20.8, "guests": 1409, "checks": 1409, "py_net_sales": 25015.18}]}, "store_order": ["8001", "8002", "8003", "8004", "8005", "8006", "8007", "8008", "8009", "8010"], "has_budget": true, "data_source": "Toast POS"};

const dayNames = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
const fmt = (n) => n == null ? '—' : '$' + Number(n).toLocaleString('en-US', {minimumFractionDigits:0, maximumFractionDigits:0});
const fmtPct = (n) => n == null ? '—' : n.toFixed(1) + '%';
const fmtChange = (n) => {
  if (n == null) return '<span class="neutral">N/A</span>';
  const cls = n >= 0 ? 'positive' : 'negative';
  const sign = n >= 0 ? '+' : '';
  return `<span class="${cls}">${sign}${n.toFixed(1)}%</span>`;
};

// Header
document.getElementById('periodLabel').textContent = `FY${D.fiscal_year} Period ${D.period}`;
document.getElementById('dateRange').textContent = `${D.period_start} to ${D.period_end} (${D.days_completed} completed days)`;
document.getElementById('lastUpdated').textContent = `Updated: ${new Date(D.generated).toLocaleString()}`;
document.getElementById('refreshTime').textContent = new Date(D.generated).toLocaleString();
document.getElementById('dataThrough').textContent = D.data_through;
document.getElementById('dataSource').textContent = `Data source: ${D.data_source || 'Toast POS'}`;

// KPI Cards
const a = D.all_stores;
const kpis = [
  { label: 'Period Net Sales', value: fmt(a.net_sales), sub: 'Budget: ' + fmt(a.budget_sales_prorated) + ' (prorated)', change: a.budget_variance, changeLabel: 'vs Budget' },
  { label: 'SSS Growth', value: a.sss_growth != null ? (a.sss_growth >= 0 ? '+' : '') + a.sss_growth + '%' : 'N/A', sub: 'Same store sales YoY (' + D.days_completed + ' days)', change: null, highlight: a.sss_growth },
  { label: 'Labor %', value: fmtPct(a.labor_pct), sub: 'Bgt Crew Wages: ' + fmtPct(a.budget_crew_wages_pct), change: a.budget_crew_wages_pct > 0 ? -(a.labor_pct - a.budget_crew_wages_pct) : null, changeLabel: 'vs Budget' },
  { label: 'Avg Check', value: fmt(a.avg_check), sub: a.checks.toLocaleString() + ' checks', change: null },
  { label: 'Guest Count', value: a.guests.toLocaleString(), sub: 'Period to date', change: null },
  { label: 'Full Period Budget', value: fmt(a.budget_sales), sub: 'Pace: ' + (a.budget_sales > 0 ? (a.net_sales / a.budget_sales_prorated * 100).toFixed(0) + '% of prorated' : 'N/A'), change: null, highlight: a.budget_variance },
];

const kpiRow = document.getElementById('kpiRow');
kpis.forEach(k => {
  const card = document.createElement('div');
  card.className = 'kpi-card';
  let changeHtml = '';
  if (k.change != null) {
    const cls = k.change >= 0 ? 'positive' : 'negative';
    const sign = k.change >= 0 ? '+' : '';
    changeHtml = `<div class="change ${cls}">${sign}${k.change.toFixed(1)}% ${k.changeLabel || ''}</div>`;
  }
  let valueColor = '';
  if (k.highlight != null) {
    valueColor = k.highlight >= 0 ? 'color:#22c55e' : 'color:#ef4444';
  }
  card.innerHTML = `<div class="label">${k.label}</div><div class="value" style="${valueColor}">${k.value}</div><div class="sub">${k.sub}</div>${changeHtml}`;
  kpiRow.appendChild(card);
});

// Sales Chart
const dailyData = a.daily || [];
const labels = dailyData.map(d => {
  const dt = new Date(d.date + 'T12:00:00');
  return dayNames[dt.getDay()] + ' ' + (dt.getMonth()+1) + '/' + dt.getDate();
});

new Chart(document.getElementById('salesChart'), {
  type: 'bar',
  data: {
    labels: labels,
    datasets: [
      { label: 'Current Year', data: dailyData.map(d => d.net_sales), backgroundColor: '#22c55e88', borderColor: '#22c55e', borderWidth: 1 },
      { label: 'Prior Year', data: dailyData.map(d => d.py_net_sales), backgroundColor: '#64748b44', borderColor: '#64748b', borderWidth: 1 },
    ]
  },
  options: {
    responsive: true,
    plugins: { legend: { labels: { color: '#94a3b8' } } },
    scales: {
      x: { ticks: { color: '#64748b', font: { size: 10 } }, grid: { color: '#1e293b' } },
      y: { ticks: { color: '#64748b', callback: v => '$' + (v/1000).toFixed(0) + 'k' }, grid: { color: '#1e293b44' } }
    }
  }
});

// Labor Chart - with budget crew wages % reference line
const budgetCrewPct = a.budget_crew_wages_pct || 0;
const budgetCrewLine = budgetCrewPct > 0 ? dailyData.map(() => budgetCrewPct) : [];
const laborDatasets = [
  { label: 'Labor %', data: dailyData.map(d => d.labor_pct), borderColor: '#f59e0b', backgroundColor: '#f59e0b22', fill: true, tension: 0.3, pointRadius: 4, pointBackgroundColor: '#f59e0b' },
];
if (budgetCrewLine.length > 0) {
  laborDatasets.push({ label: 'Bgt Crew Wages %', data: budgetCrewLine, borderColor: '#ef444488', borderDash: [6, 4], borderWidth: 2, pointRadius: 0, fill: false });
}
new Chart(document.getElementById('laborChart'), {
  type: 'line',
  data: {
    labels: labels,
    datasets: laborDatasets,
  },
  options: {
    responsive: true,
    plugins: { legend: { labels: { color: '#94a3b8' } } },
    scales: {
      x: { ticks: { color: '#64748b', font: { size: 10 } }, grid: { color: '#1e293b' } },
      y: { ticks: { color: '#64748b', callback: v => v + '%' }, grid: { color: '#1e293b44' }, suggestedMin: 15, suggestedMax: 45 }
    }
  }
});

// Store Scoreboard Table
const storeTable = document.getElementById('storeTable');
let tableHtml = `<thead><tr>
  <th>Store</th>
  <th class="right">Net Sales</th>
  <th class="right">Budget (pro)</th>
  <th class="right">vs Budget</th>
  <th class="right">Prior Year</th>
  <th class="right">SSS Growth</th>
  <th class="right">Labor %</th>
  <th class="right">Bgt Crew %</th>
  <th class="right">Guests</th>
  <th class="right">Avg Check</th>
</tr></thead><tbody>`;

D.store_order.forEach(num => {
  const s = D.stores[num];
  if (!s) return;
  const sssHtml = s.sss_growth != null ? fmtChange(s.sss_growth) : '<span class="neutral">N/A</span>';
  const budgetVarHtml = s.budget_variance != null ? fmtChange(s.budget_variance) : '<span class="neutral">—</span>';
  const laborCls = s.labor_pct > 35 ? 'negative' : s.labor_pct > 30 ? 'neutral' : 'positive';
  const bgtLaborCls = s.budget_crew_wages_pct > 0 ? (s.labor_pct > s.budget_crew_wages_pct + 2 ? 'negative' : s.labor_pct < s.budget_crew_wages_pct - 2 ? 'positive' : 'neutral') : 'neutral';
  tableHtml += `<tr>
    <td><strong>${num}</strong> ${s.name}</td>
    <td class="right">${fmt(s.net_sales)}</td>
    <td class="right" style="color:#94a3b8">${fmt(s.budget_sales_prorated)}</td>
    <td class="right">${budgetVarHtml}</td>
    <td class="right" style="color:#94a3b8">${fmt(s.py_net_sales)}</td>
    <td class="right">${sssHtml}</td>
    <td class="right"><span class="${laborCls}">${fmtPct(s.labor_pct)}</span></td>
    <td class="right" style="color:#94a3b8">${fmtPct(s.budget_crew_wages_pct)}</td>
    <td class="right">${s.guests.toLocaleString()}</td>
    <td class="right">${fmt(s.avg_check)}</td>
  </tr>`;
});

// Total row
const aBudgetVarHtml = a.budget_variance != null ? fmtChange(a.budget_variance) : '<span class="neutral">—</span>';
tableHtml += `<tr class="total-row">
  <td><strong>ALL STORES</strong></td>
  <td class="right">${fmt(a.net_sales)}</td>
  <td class="right" style="color:#94a3b8">${fmt(a.budget_sales_prorated)}</td>
  <td class="right">${aBudgetVarHtml}</td>
  <td class="right" style="color:#94a3b8">${fmt(a.py_net_sales)}</td>
  <td class="right">${a.sss_growth != null ? fmtChange(a.sss_growth) : '<span class="neutral">N/A</span>'}</td>
  <td class="right">${fmtPct(a.labor_pct)}</td>
  <td class="right" style="color:#94a3b8">${fmtPct(a.budget_crew_wages_pct)}</td>
  <td class="right">${a.guests.toLocaleString()}</td>
  <td class="right">${fmt(a.avg_check)}</td>
</tr>`;
tableHtml += '</tbody>';
storeTable.innerHTML = tableHtml;

// Daily Detail Tabs
const tabBar = document.getElementById('tabBar');
const tabContents = document.getElementById('tabContents');

// Add "All Stores" tab first
const allBtn = document.createElement('div');
allBtn.className = 'tab-btn active';
allBtn.textContent = 'All Stores';
allBtn.onclick = () => switchTab('all');
tabBar.appendChild(allBtn);

D.store_order.forEach(num => {
  const s = D.stores[num];
  if (!s) return;
  const btn = document.createElement('div');
  btn.className = 'tab-btn';
  btn.textContent = num + ' ' + s.name;
  btn.onclick = () => switchTab(num);
  tabBar.appendChild(btn);
});

function buildDailyTable(daily) {
  let html = `<table class="daily-table"><thead><tr>
    <th style="text-align:left">Date</th>
    <th>Net Sales</th>
    <th>Prior Year</th>
    <th>YoY Change</th>
    <th>Labor $</th>
    <th>Labor %</th>
    <th>Guests</th>
  </tr></thead><tbody>`;

  let totalNS = 0, totalPY = 0, totalLC = 0, totalGuests = 0;
  daily.forEach(d => {
    const dt = new Date(d.date + 'T12:00:00');
    const dayName = dayNames[dt.getDay()];
    const yoyPct = d.py_net_sales > 0 ? ((d.net_sales - d.py_net_sales) / d.py_net_sales * 100) : null;
    const laborCls = d.labor_pct > 35 ? 'negative' : d.labor_pct > 30 ? 'neutral' : 'positive';

    totalNS += d.net_sales;
    totalPY += d.py_net_sales;
    totalLC += d.labor_cost;
    totalGuests += d.guests || 0;

    html += `<tr>
      <td><span class="day-name">${dayName}</span> ${d.date}</td>
      <td>${fmt(d.net_sales)}</td>
      <td style="color:#64748b">${fmt(d.py_net_sales)}</td>
      <td>${yoyPct != null ? fmtChange(yoyPct) : '<span class="neutral">—</span>'}</td>
      <td>${fmt(d.labor_cost)}</td>
      <td><span class="${laborCls}">${fmtPct(d.labor_pct)}</span></td>
      <td>${(d.guests || 0).toLocaleString()}</td>
    </tr>`;
  });

  // Totals row
  const totalLaborPct = totalNS > 0 ? totalLC / totalNS * 100 : 0;
  const totalYoy = totalPY > 0 ? ((totalNS - totalPY) / totalPY * 100) : null;
  const totalLaborCls = totalLaborPct > 35 ? 'negative' : totalLaborPct > 30 ? 'neutral' : 'positive';
  html += `<tr style="background:#334155;font-weight:700">
    <td>TOTAL</td>
    <td>${fmt(totalNS)}</td>
    <td style="color:#64748b">${fmt(totalPY)}</td>
    <td>${totalYoy != null ? fmtChange(totalYoy) : '<span class="neutral">—</span>'}</td>
    <td>${fmt(totalLC)}</td>
    <td><span class="${totalLaborCls}">${fmtPct(totalLaborPct)}</span></td>
    <td>${totalGuests.toLocaleString()}</td>
  </tr>`;

  html += '</tbody></table>';
  return html;
}

// Build tab content for all stores
const allDiv = document.createElement('div');
allDiv.className = 'tab-content active';
allDiv.id = 'tab-all';
allDiv.innerHTML = buildDailyTable(a.daily || []);
tabContents.appendChild(allDiv);

D.store_order.forEach(num => {
  const s = D.stores[num];
  if (!s) return;
  const div = document.createElement('div');
  div.className = 'tab-content';
  div.id = 'tab-' + num;
  div.innerHTML = buildDailyTable(s.daily || []);
  tabContents.appendChild(div);
});

function switchTab(id) {
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('tab-' + id).classList.add('active');
}
</script>
</body>
</html>